<!-- Global Dynamic Code Background -->
<div class="global-code-bg">
  <!-- Floating Code Symbols -->
  <div class="code-rain-global">
    @for (symbol of codeSymbols; track symbol; let i = $index) {
      <div class="code-symbol-global"
           [style.left.%]="(i * 3.5)"
           [style.animation-delay.s]="i * 0.8"
           [style.animation-duration.s]="15 + (i % 8) * 3">
        {{ symbol }}
      </div>
    }
  </div>

  <!-- Binary Background Lines -->
  <div class="binary-bg-global">
    @for (i of [0,1,2,3,4,5,6,7,8,9,10,11]; track i) {
      <div class="binary-line-global" [style.animation-delay.s]="i * 2">
        @for (j of [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]; track j) {
          <span>{{ j % 2 }}</span>
        }
      </div>
    }
  </div>

  <!-- Geometric Shapes -->
  <div class="geometric-shapes-global">
    @for (shape of ['◆', '●', '■', '▲', '◢', '◣', '▼', '◀', '▶', '★', '☆', '◇']; track shape; let i = $index) {
      <div class="shape-global"
           [style.left.%]="5 + (i * 8)"
           [style.top.%]="10 + (i * 7)"
           [style.animation-delay.s]="i * 1.5">
        {{ shape }}
      </div>
    }
  </div>
</div>

<nav [class.nav-scrolled]="scrollY() > 50">
  <div class="nav-content">
    <div class="logo">MS</div>

    <!-- Desktop Navigation -->
    <ul class="nav-links desktop-nav">
      <li><a (click)="scrollToSection('home')" (keydown.enter)="scrollToSection('home')" tabindex="0" role="button">Home</a></li>
      <li><a (click)="scrollToSection('about')" (keydown.enter)="scrollToSection('about')" tabindex="0" role="button">About</a></li>
      <li><a (click)="scrollToSection('experience')" (keydown.enter)="scrollToSection('experience')" tabindex="0" role="button">Experience</a></li>
      <li><a (click)="scrollToSection('projects')" (keydown.enter)="scrollToSection('projects')" tabindex="0" role="button">Projects</a></li>
      <li><a (click)="scrollToSection('contact')" (keydown.enter)="scrollToSection('contact')" tabindex="0" role="button">Contact</a></li>
    </ul>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" (click)="toggleMobileMenu()" [class.active]="mobileMenuOpen()" aria-label="Toggle menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
  </div>
</nav>

<!-- Mobile Menu Overlay -->
<div class="mobile-menu-overlay"
     [class.active]="mobileMenuOpen()"
     (click)="closeMobileMenu()"
     (keydown.escape)="closeMobileMenu()"
     tabindex="-1"
     role="button"
     aria-label="Close menu"></div>

<!-- Mobile Menu -->
<div class="mobile-menu" [class.active]="mobileMenuOpen()">
  <ul class="mobile-nav-links">
    <li><a (click)="scrollToSection('home')" (keydown.enter)="scrollToSection('home')" tabindex="0" role="button">Home</a></li>
    <li><a (click)="scrollToSection('about')" (keydown.enter)="scrollToSection('about')" tabindex="0" role="button">About</a></li>
    <li><a (click)="scrollToSection('experience')" (keydown.enter)="scrollToSection('experience')" tabindex="0" role="button">Experience</a></li>
    <li><a (click)="scrollToSection('projects')" (keydown.enter)="scrollToSection('projects')" tabindex="0" role="button">Projects</a></li>
    <li><a (click)="scrollToSection('contact')" (keydown.enter)="scrollToSection('contact')" tabindex="0" role="button">Contact</a></li>
  </ul>
</div>

<section class="hero" id="home">
  <div class="hero-bg"></div>
  <div class="hero-overlay"></div>

  <!-- Floating Code Symbols -->
  <div class="code-rain">
    @for (symbol of codeSymbols.slice(0, 20); track symbol; let i = $index) {
      <div class="code-symbol"
           [style.left.%]="(i * 5)"
           [style.animation-delay.s]="i * 0.5"
           [style.animation-duration.s]="10 + (i % 5) * 2">
        {{ symbol }}
      </div>
    }
  </div>

  <!-- Binary Background -->
  <div class="binary-bg">
    @for (i of [0,1,2,3,4,5,6,7,8]; track i) {
      <div class="binary-line" [style.animation-delay.s]="i * 1.5">
        @for (j of [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]; track j) {
          <span>{{ j % 2 }}</span>
        }
      </div>
    }
  </div>

  <!-- Geometric Shapes -->
  <div class="geometric-shapes">
    @for (shape of ['◆', '●', '■', '▲', '◢', '◣']; track shape; let i = $index) {
      <div class="shape"
           [style.left.%]="10 + (i * 15)"
           [style.top.%]="20 + (i * 10)"
           [style.animation-delay.s]="i * 0.8">
        {{ shape }}
      </div>
    }
  </div>

  <div class="hero-content">
    <img [src]="profileImage" [alt]="name() + ' profile picture'" class="profile-image" />
    <h1>{{ name() }}</h1>
    <h2>{{ role() }}</h2>
    <p>
      {{ professionalSummary() }}
    </p>
    <div class="cta-buttons">
      <button class="btn btn-primary" (click)="scrollToSection('projects')">
        Explore Projects
      </button>
      <button class="btn btn-outline" (click)="scrollToSection('contact')">
        Get In Touch
      </button>
    </div>
  </div>
</section>

<section id="about">
  <div class="about-container">
    <div class="about-content">
      <!-- <div class="about-text reveal">
        <h3>Passion for Code</h3>
        <p>
          Full Stack Developer with a strong passion for creating modern, scalable, and high-performance web applications.
          I specialize in cloud-native architectures and DevOps methodologies, delivering enterprise-level solutions.
        </p>
        <p>
          Every project is an opportunity to learn new technologies and refine my skills.
          I strongly believe in the power of clean code, best practices, and effective team collaboration.
        </p>
        <p>
          My mission is to transform complex problems into elegant solutions that users love to interact with,
          combining technical excellence with user-centered design.
        </p>
      </div> -->
      <div class="skills-container reveal">
        <h3>Technical Skills</h3>
        <div class="skills-grid">
          @for (skill of skills(); track skill.name) {
            <div class="skill-card" [attr.data-category]="skill.category">
              <div class="skill-icon-wrapper">
                <i [class]="skill.icon + ' colored'" [style.color]="skill.color"></i>
              </div>
              <div class="skill-name">{{ skill.name }}</div>
              <div class="skill-glow" [style.background]="'radial-gradient(circle, ' + skill.color + '30, transparent)'"></div>
            </div>
          }
        </div>
      </div>
    </div>
  </div>
</section>

<section id="experience">
  <div class="experience-container">
    <div class="experience-header reveal">
      <h2 class="section-title">Professional Experience</h2>
    </div>

    <div class="timeline">
      @for (exp of experiences(); track exp.company + exp.period) {
        <div class="timeline-item reveal">
          <div class="timeline-content" [class.work]="exp.type === 'work'" [class.education]="exp.type === 'education'">
            <h3 class="timeline-role">{{ exp.role }}</h3>
            <div class="timeline-company">{{ exp.company }}</div>
            <div class="timeline-period">{{ exp.period }}</div>
            <div class="timeline-location">{{ exp.location }}</div>
            <p class="timeline-description">{{ exp.description }}</p>
            @if (exp.skills.length > 0) {
              <div class="timeline-skills">
                @for (skill of exp.skills; track skill) {
                  <span class="timeline-skill">{{ skill }}</span>
                }
              </div>
            }
          </div>
          <div class="timeline-dot"></div>
        </div>
      }
    </div>

    <div class="certifications reveal">
      <h3 class="section-title">Certifications</h3>
      <div class="cert-grid">
        @for (cert of certifications(); track cert.name) {
          <div class="cert-card">
            <div class="cert-logo">{{ cert.logo }}</div>
            <div class="cert-name">{{ cert.name }}</div>
            <div class="cert-issuer">{{ cert.issuer }}</div>
            <div class="cert-date">{{ cert.date }}</div>
            @if (cert.credentialUrl) {
              <a [href]="cert.credentialUrl" target="_blank" rel="noopener" class="cert-link">
                View Credential →
              </a>
            }
          </div>
        }
      </div>
    </div>

    @if (education().length > 0) {
      <div class="education-section reveal">
        <h3 class="section-title">Education</h3>
        <div class="education-grid">
          @for (edu of education(); track edu.degree) {
            <div class="education-card">
              <h4 class="education-degree">{{ edu.degree }}</h4>
              <div class="education-institution">{{ edu.institution }} <br> {{ edu.period }}</div>
              <div class="education-thesis">{{ edu.thesis }}</div>
              @if (edu.gpa) {
                <div class="education-gpa">GPA: {{ edu.gpa }}</div>
              }
              <div class="education-period"></div>
              @if (edu.description) {
                <p class="education-description">{{ edu.description }}</p>
              }
            </div>
          }
        </div>
      </div>
    }
  </div>
</section>

<section id="projects">
  <!-- Projects Section Code Animation -->
  <div class="section-code-bg">
    <div class="code-rain-section">
      @for (symbol of codeSymbols.slice(0, 15); track symbol; let i = $index) {
        <div class="code-symbol-section"
             [style.left.%]="(i * 6.5)"
             [style.animation-delay.s]="i * 0.5"
             [style.animation-duration.s]="10 + (i % 5) * 2">
          {{ symbol }}
        </div>
      }
    </div>
    <div class="binary-bg-section">
      @for (i of [0,1,2,3,4,5]; track i) {
        <div class="binary-line-section" [style.animation-delay.s]="i * 1.5">
          @for (j of [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]; track j) {
            <span>{{ j % 2 }}</span>
          }
        </div>
      }
    </div>
  </div>

  <div class="projects-container">
    <h2 class="section-title reveal">Featured Projects</h2>
    <div class="projects-grid">
      @for (project of projects(); track project.title) {
        <div class="project-card reveal">
          @if (project.image && project.image.startsWith('http')) {
            <div class="project-icon">
              <img [src]="project.image" [alt]="project.title + ' preview'" loading="lazy" />
            </div>
          } @else {
            <div class="project-icon emoji">{{ project.image }}</div>
          }
          <div class="project-content">
            <h3>{{ project.title }}</h3>
            <p>{{ project.description }}</p>
            <div class="tech-tags">
              @for (tech of project.technologies; track tech) {
                <span class="tech-tag">{{ tech }}</span>
              }
            </div>
            <div class="project-links">
              @if (project.github) {
                <a [href]="project.github" target="_blank" rel="noopener">
                  <span>GitHub</span>
                  <span>→</span>
                </a>
              }
              @if (project.demo) {
                <a [href]="project.demo" target="_blank" rel="noopener">
                  <span>Live Demo</span>
                  <span>→</span>
                </a>
              }
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</section>

<section id="contact">
  <!-- Contact Section Code Animation -->
  <div class="section-code-bg">
    <div class="code-rain-section">
      @for (symbol of codeSymbols.slice(15, 25); track symbol; let i = $index) {
        <div class="code-symbol-section"
             [style.left.%]="(i * 9.5)"
             [style.animation-delay.s]="i * 0.5"
             [style.animation-duration.s]="10 + (i % 5) * 2">
          {{ symbol }}
        </div>
      }
    </div>
    <div class="geometric-shapes-section">
      @for (shape of ['◆', '●', '■', '▲', '◢', '◣', '▼', '◀']; track shape; let i = $index) {
        <div class="shape-section"
             [style.left.%]="8 + (i * 12)"
             [style.top.%]="15 + (i * 10)"
             [style.animation-delay.s]="i * 1.2">
          {{ shape }}
        </div>
      }
    </div>
  </div>

  <div class="contact-container">
    <h2 class="section-title reveal">Get in Touch</h2>
    <div class="contact-links reveal">
      <a href="https://github.com/Mikes-not-found" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub Profile">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
      <a href="mailto:michelescarciglia30@gmail.com" title="Email" aria-label="Send Email">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M0 3v18h24v-18h-24zm6.623 7.929l-4.623 5.712v-9.458l4.623 3.746zm-4.141-5.929h19.035l-9.517 7.713-9.518-7.713zm5.694 7.188l3.824 3.099 3.83-3.104 5.612 6.817h-18.779l5.513-6.812zm9.208-1.264l4.616-3.741v9.348l-4.616-5.607z"/>
        </svg>
      </a>
      <a href="https://www.linkedin.com/in/michele-scarciglia-64768b154/" target="_blank" rel="noopener" title="LinkedIn" aria-label="LinkedIn Profile">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<footer>
  <p>&copy; 2025 {{ name() }}.</p>
</footer>

<router-outlet />
